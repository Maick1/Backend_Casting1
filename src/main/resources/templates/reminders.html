<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Recordatorios</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/reminders.css}" />
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">

  <link rel="icon" type="image/png" th:href="@{/icon/lapiz.png}" />

  <link rel="stylesheet" type="text/css" th:href="@{/css/reminders.css}" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="/menu">Notas <3</a>
  <div class="navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="btn btn-secondary" href="/menu"><i class="fas fa-arrow-left"></i> Volver</a>
      </li>
    </ul>
  </div>
</nav>
<br>
<br>
<br>
<h1 class="text-center mb-5">Recordatorios</h1>
<form action="#" th:action="@{/saveReminder}" th:object="${reminder}" method="post" class="bg-white p-5 rounded shadow">
  <div class="form-group">
    <label>Note:</label><br>
    <input type="text" th:field="*{note}" class="form-control"><br>
  </div>
  <div class="form-group">
    <label>Reminder Time:</label><br>
    <input type="datetime-local" th:field="*{reminderTime}" class="form-control"><br>
  </div>
  <button type="submit" class="btn btn-primary">Save</button>

    <label>Nota</label><br>
    <input type="text" th:field="*{note}" class="form-control"><br>
  </div>
  <div class="form-group">
    <label>Hora de recordatorio:</label><br>
    <input type="datetime-local" th:field="*{reminderTime}" class="form-control"><br>
  </div>
  <button type="submit" class="btn btn-primary">Guardar</button>
</form>
<h2 class="text-center mt-5 mb-3">Lista de recordatorios</h2>
<table class="table table-striped table-hover">
  <thead class="thead-dark">
  <tr>
    <th>Nota</th>
    <th>Hora de recordatorio</th>
    <th>Acciones</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="reminder : ${listReminders}" th:data-reminder-time="${reminder.reminderTime}">
    <td th:text="${reminder.note}"></td>
    <td th:text="${reminder.reminderTime}"></td>
    <td>
      <!-- Agrega el atributo th:method="delete" y el atributo th:action para enviar una solicitud DELETE -->
      <form th:method="delete" th:action="@{/deleteReminder/{id}(id=${reminder.id})}">
        <button type="submit" class="btn btn-danger">Eliminar</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>
</div>
</body>
</html>
